system("mkdir ~/newPredictiveModel_ActArea")

system("mkdir ~/newPredictiveModel_ActArea/E")
system("mkdir ~/newPredictiveModel_ActArea/C")
system("mkdir ~/newPredictiveModel_ActArea/EMo")
system("mkdir ~/newPredictiveModel_ActArea/CMo")
system("mkdir ~/newPredictiveModel_ActArea/EC")
system("mkdir ~/newPredictiveModel_ActArea/ECMo")


system("mkdir ~/newPredictiveModel_ActArea/EL")
system("mkdir ~/newPredictiveModel_ActArea/CL")
system("mkdir ~/newPredictiveModel_ActArea/EMoL")
system("mkdir ~/newPredictiveModel_ActArea/CMoL")
system("mkdir ~/newPredictiveModel_ActArea/ECL")
system("mkdir ~/newPredictiveModel_ActArea/ECMoL")


system("mkdir ~/newPredictiveModel_ActArea/E/Sanger")
system("mkdir ~/newPredictiveModel_ActArea/C/Sanger")
system("mkdir ~/newPredictiveModel_ActArea/EMo/Sanger")
system("mkdir ~/newPredictiveModel_ActArea/CMo/Sanger")
system("mkdir ~/newPredictiveModel_ActArea/EC/Sanger")
system("mkdir ~/newPredictiveModel_ActArea/ECMo/Sanger")

system("mkdir ~/newPredictiveModel_ActArea/EL/Sanger")
system("mkdir ~/newPredictiveModel_ActArea/CL/Sanger")
system("mkdir ~/newPredictiveModel_ActArea/EMoL/Sanger")
system("mkdir ~/newPredictiveModel_ActArea/CMoL/Sanger")
system("mkdir ~/newPredictiveModel_ActArea/ECL/Sanger")
system("mkdir ~/newPredictiveModel_ActArea/ECMoL/Sanger")



system("mkdir ~/newPredictiveModel_ActArea/E/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/E/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/E/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/E/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/E/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/E/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/E/Sanger/Lasso")

system("mkdir ~/newPredictiveModel_ActArea/C/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/C/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/C/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/C/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/C/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/C/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/C/Sanger/Lasso")

system("mkdir ~/newPredictiveModel_ActArea/EMo/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/EMo/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/EMo/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/EMo/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/EMo/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/EMo/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/EMo/Sanger/Lasso")

system("mkdir ~/newPredictiveModel_ActArea/CMo/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/CMo/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/CMo/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/CMo/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/CMo/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/CMo/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/CMo/Sanger/Lasso")


system("mkdir ~/newPredictiveModel_ActArea/EC/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/EC/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/EC/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/EC/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/EC/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/EC/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/EC/Sanger/Lasso")

system("mkdir ~/newPredictiveModel_ActArea/ECMo/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/ECMo/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/ECMo/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/ECMo/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/ECMo/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/ECMo/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/ECMo/Sanger/Lasso")



system("mkdir ~/newPredictiveModel_ActArea/EL/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/EL/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/EL/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/EL/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/EL/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/EL/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/EL/Sanger/Lasso")

system("mkdir ~/newPredictiveModel_ActArea/CL/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/CL/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/CL/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/CL/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/CL/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/CL/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/CL/Sanger/Lasso")

system("mkdir ~/newPredictiveModel_ActArea/EMoL/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/EMoL/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/EMoL/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/EMoL/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/EMoL/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/EMoL/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/EMoL/Sanger/Lasso")

system("mkdir ~/newPredictiveModel_ActArea/CMoL/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/CMoL/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/CMoL/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/CMoL/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/CMoL/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/CMoL/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/CMoL/Sanger/Lasso")

system("mkdir ~/newPredictiveModel_ActArea/ECL/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/ECL/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/ECL/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/ECL/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/ECL/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/ECL/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/ECL/Sanger/Lasso")

system("mkdir ~/newPredictiveModel_ActArea/ECMoL/Sanger/PCR")
system("mkdir ~/newPredictiveModel_ActArea/ECMoL/Sanger/PLS")
system("mkdir ~/newPredictiveModel_ActArea/ECMoL/Sanger/SVM")
system("mkdir ~/newPredictiveModel_ActArea/ECMoL/Sanger/RF")
system("mkdir ~/newPredictiveModel_ActArea/ECMoL/Sanger/ENet")
system("mkdir ~/newPredictiveModel_ActArea/ECMoL/Sanger/Ridge")
system("mkdir ~/newPredictiveModel_ActArea/ECMoL/Sanger/Lasso")


Drug.type = c("ActArea")#,"ActArea","ActArea")
Data.type = c("CL","CMoL","EL","EMoL","ECL","ECMoL")  
Model.type = c("PCR","PLS","Ridge","Lasso","RF","SVM","ENet")

k1 <- rep(rep(1:length(Model.type), each=10), length(Data.type))
k2 <- rep(1:length(Data.type), each=length(Model.type)*10)
k3 <- rep(1:10, length(Data.type)*length(Model.type))


workFlow_all<-function(kk){
  source("~/PredictiveModel_pipeline/myModel.R")
  source("~/PredictiveModel_pipeline/myData_Sanger.R")
  
  require(synapseClient)
  filename = paste("~/newPredictiveModel_",Drug.type,"/",Data.type[k2[kk]],"/Sanger/",Model.type[k1[kk]],"/cvDrug_",k3[kk],".Rdata",sep="")
  
  if(!file.exists(filename)){
    resultsScale <- myModel(k3[kk],data.set = "Sanger",data.type=Data.type[k2[kk]], drug.type = Drug.type, model.type = Model.type[k1[kk]], nfolds = 5)    
    save(resultsScale,file = filename)        
  }  
}


KK<-c()
for(kk in 1:(24*3)){  
  filename = paste("~/newPredictiveModel_",Drug.type,"/",Data.type[k2[kk]],"/Sanger/",Model.type[k1[kk]],"/cvDrug_",k3[kk],".Rdata",sep="")  
  if(!file.exists(filename)){
    KK<-c(KK,kk)    
  } 
}

library(multicore)
mclapply(KK, function(x)workFlow_all(x),mc.cores= 8)  

