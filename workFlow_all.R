
system("mkdir ~/PredictiveModel/Mh")
system("mkdir ~/PredictiveModel/MhL")
system("mkdir ~/PredictiveModel/ECMh")
system("mkdir ~/PredictiveModel/ECMhL")

system("mkdir ~/PredictiveModel/Mh/CCLE")
system("mkdir ~/PredictiveModel/MhL/CCLE")
system("mkdir ~/PredictiveModel/ECMh/CCLE")
system("mkdir ~/PredictiveModel/ECMhL/CCLE")








system("mkdir ~/PredictiveModel/ECMh/CCLE/PCR")
system("mkdir ~/PredictiveModel/ECMh/CCLE/PLS")
system("mkdir ~/PredictiveModel/ECMh/CCLE/SVM")
system("mkdir ~/PredictiveModel/ECMh/CCLE/RF")
system("mkdir ~/PredictiveModel/ECMh/CCLE/ENet")
system("mkdir ~/PredictiveModel/ECMh/CCLE/Ridge")
system("mkdir ~/PredictiveModel/ECMh/CCLE/Lasso")


system("mkdir ~/PredictiveModel/Mh/CCLE/PCR")
system("mkdir ~/PredictiveModel/Mh/CCLE/PLS")
system("mkdir ~/PredictiveModel/Mh/CCLE/SVM")
system("mkdir ~/PredictiveModel/Mh/CCLE/RF")
system("mkdir ~/PredictiveModel/Mh/CCLE/ENet")
system("mkdir ~/PredictiveModel/Mh/CCLE/Ridge")
system("mkdir ~/PredictiveModel/Mh/CCLE/Lasso")


system("mkdir ~/PredictiveModel/ECMhL/CCLE/PCR")
system("mkdir ~/PredictiveModel/ECMhL/CCLE/PLS")
system("mkdir ~/PredictiveModel/ECMhL/CCLE/SVM")
system("mkdir ~/PredictiveModel/ECMhL/CCLE/RF")
system("mkdir ~/PredictiveModel/ECMhL/CCLE/ENet")
system("mkdir ~/PredictiveModel/ECMhL/CCLE/Ridge")
system("mkdir ~/PredictiveModel/ECMhL/CCLE/Lasso")

system("mkdir ~/PredictiveModel/MhL/CCLE/PCR")
system("mkdir ~/PredictiveModel/MhL/CCLE/PLS")
system("mkdir ~/PredictiveModel/MhL/CCLE/SVM")
system("mkdir ~/PredictiveModel/MhL/CCLE/RF")
system("mkdir ~/PredictiveModel/MhL/CCLE/ENet")
system("mkdir ~/PredictiveModel/MhL/CCLE/Ridge")
system("mkdir ~/PredictiveModel/MhL/CCLE/Lasso")


system("mkdir ~/PredictiveModel/E/CCLE/PCR")
system("mkdir ~/PredictiveModel/E/CCLE/PLS")
system("mkdir ~/PredictiveModel/E/CCLE/SVM")
system("mkdir ~/PredictiveModel/E/CCLE/RF")
system("mkdir ~/PredictiveModel/E/CCLE/ENet")
system("mkdir ~/PredictiveModel/E/CCLE/Ridge")
system("mkdir ~/PredictiveModel/E/CCLE/Lasso")

system("mkdir ~/PredictiveModel/C/CCLE/PCR")
system("mkdir ~/PredictiveModel/C/CCLE/PLS")
system("mkdir ~/PredictiveModel/C/CCLE/SVM")
system("mkdir ~/PredictiveModel/C/CCLE/RF")
system("mkdir ~/PredictiveModel/C/CCLE/ENet")
system("mkdir ~/PredictiveModel/C/CCLE/Ridge")
system("mkdir ~/PredictiveModel/C/CCLE/Lasso")

system("mkdir ~/PredictiveModel/EMo/CCLE/PCR")
system("mkdir ~/PredictiveModel/EMo/CCLE/PLS")
system("mkdir ~/PredictiveModel/EMo/CCLE/SVM")
system("mkdir ~/PredictiveModel/EMo/CCLE/RF")
system("mkdir ~/PredictiveModel/EMo/CCLE/ENet")
system("mkdir ~/PredictiveModel/EMo/CCLE/Ridge")
system("mkdir ~/PredictiveModel/EMo/CCLE/Lasso")

system("mkdir ~/PredictiveModel/CMo/CCLE/PCR")
system("mkdir ~/PredictiveModel/CMo/CCLE/PLS")
system("mkdir ~/PredictiveModel/CMo/CCLE/SVM")
system("mkdir ~/PredictiveModel/CMo/CCLE/RF")
system("mkdir ~/PredictiveModel/CMo/CCLE/ENet")
system("mkdir ~/PredictiveModel/CMo/CCLE/Ridge")
system("mkdir ~/PredictiveModel/CMo/CCLE/Lasso")

system("mkdir ~/PredictiveModel/EMh/CCLE/PCR")
system("mkdir ~/PredictiveModel/EMh/CCLE/PLS")
system("mkdir ~/PredictiveModel/EMh/CCLE/SVM")
system("mkdir ~/PredictiveModel/EMh/CCLE/RF")
system("mkdir ~/PredictiveModel/EMh/CCLE/ENet")
system("mkdir ~/PredictiveModel/EMh/CCLE/Ridge")
system("mkdir ~/PredictiveModel/EMh/CCLE/Lasso")

system("mkdir ~/PredictiveModel/CMh/CCLE/PCR")
system("mkdir ~/PredictiveModel/CMh/CCLE/PLS")
system("mkdir ~/PredictiveModel/CMh/CCLE/SVM")
system("mkdir ~/PredictiveModel/CMh/CCLE/RF")
system("mkdir ~/PredictiveModel/CMh/CCLE/ENet")
system("mkdir ~/PredictiveModel/CMh/CCLE/Ridge")
system("mkdir ~/PredictiveModel/CMh/CCLE/Lasso")

system("mkdir ~/PredictiveModel/EC/CCLE/PCR")
system("mkdir ~/PredictiveModel/EC/CCLE/PLS")
system("mkdir ~/PredictiveModel/EC/CCLE/SVM")
system("mkdir ~/PredictiveModel/EC/CCLE/RF")
system("mkdir ~/PredictiveModel/EC/CCLE/ENet")
system("mkdir ~/PredictiveModel/EC/CCLE/Ridge")
system("mkdir ~/PredictiveModel/EC/CCLE/Lasso")

system("mkdir ~/PredictiveModel/ECMo/CCLE/PCR")
system("mkdir ~/PredictiveModel/ECMo/CCLE/PLS")
system("mkdir ~/PredictiveModel/ECMo/CCLE/SVM")
system("mkdir ~/PredictiveModel/ECMo/CCLE/RF")
system("mkdir ~/PredictiveModel/ECMo/CCLE/ENet")
system("mkdir ~/PredictiveModel/ECMo/CCLE/Ridge")
system("mkdir ~/PredictiveModel/ECMo/CCLE/Lasso")



system("mkdir ~/PredictiveModel/EL/CCLE/PCR")
system("mkdir ~/PredictiveModel/EL/CCLE/PLS")
system("mkdir ~/PredictiveModel/EL/CCLE/SVM")
system("mkdir ~/PredictiveModel/EL/CCLE/RF")
system("mkdir ~/PredictiveModel/EL/CCLE/ENet")
system("mkdir ~/PredictiveModel/EL/CCLE/Ridge")
system("mkdir ~/PredictiveModel/EL/CCLE/Lasso")

system("mkdir ~/PredictiveModel/CL/CCLE/PCR")
system("mkdir ~/PredictiveModel/CL/CCLE/PLS")
system("mkdir ~/PredictiveModel/CL/CCLE/SVM")
system("mkdir ~/PredictiveModel/CL/CCLE/RF")
system("mkdir ~/PredictiveModel/CL/CCLE/ENet")
system("mkdir ~/PredictiveModel/CL/CCLE/Ridge")
system("mkdir ~/PredictiveModel/CL/CCLE/Lasso")

system("mkdir ~/PredictiveModel/EMoL/CCLE/PCR")
system("mkdir ~/PredictiveModel/EMoL/CCLE/PLS")
system("mkdir ~/PredictiveModel/EMoL/CCLE/SVM")
system("mkdir ~/PredictiveModel/EMoL/CCLE/RF")
system("mkdir ~/PredictiveModel/EMoL/CCLE/ENet")
system("mkdir ~/PredictiveModel/EMoL/CCLE/Ridge")
system("mkdir ~/PredictiveModel/EMoL/CCLE/Lasso")

system("mkdir ~/PredictiveModel/CMoL/CCLE/PCR")
system("mkdir ~/PredictiveModel/CMoL/CCLE/PLS")
system("mkdir ~/PredictiveModel/CMoL/CCLE/SVM")
system("mkdir ~/PredictiveModel/CMoL/CCLE/RF")
system("mkdir ~/PredictiveModel/CMoL/CCLE/ENet")
system("mkdir ~/PredictiveModel/CMoL/CCLE/Ridge")
system("mkdir ~/PredictiveModel/CMoL/CCLE/Lasso")

system("mkdir ~/PredictiveModel/EMhL/CCLE/PCR")
system("mkdir ~/PredictiveModel/EMhL/CCLE/PLS")
system("mkdir ~/PredictiveModel/EMhL/CCLE/SVM")
system("mkdir ~/PredictiveModel/EMhL/CCLE/RF")
system("mkdir ~/PredictiveModel/EMhL/CCLE/ENet")
system("mkdir ~/PredictiveModel/EMhL/CCLE/Ridge")
system("mkdir ~/PredictiveModel/EMhL/CCLE/Lasso")

system("mkdir ~/PredictiveModel/CMhL/CCLE/PCR")
system("mkdir ~/PredictiveModel/CMhL/CCLE/PLS")
system("mkdir ~/PredictiveModel/CMhL/CCLE/SVM")
system("mkdir ~/PredictiveModel/CMhL/CCLE/RF")
system("mkdir ~/PredictiveModel/CMhL/CCLE/ENet")
system("mkdir ~/PredictiveModel/CMhL/CCLE/Ridge")
system("mkdir ~/PredictiveModel/CMhL/CCLE/Lasso")

system("mkdir ~/PredictiveModel/ECL/CCLE/PCR")
system("mkdir ~/PredictiveModel/ECL/CCLE/PLS")
system("mkdir ~/PredictiveModel/ECL/CCLE/SVM")
system("mkdir ~/PredictiveModel/ECL/CCLE/RF")
system("mkdir ~/PredictiveModel/ECL/CCLE/ENet")
system("mkdir ~/PredictiveModel/ECL/CCLE/Ridge")
system("mkdir ~/PredictiveModel/ECL/CCLE/Lasso")

system("mkdir ~/PredictiveModel/ECMoL/CCLE/PCR")
system("mkdir ~/PredictiveModel/ECMoL/CCLE/PLS")
system("mkdir ~/PredictiveModel/ECMoL/CCLE/SVM")
system("mkdir ~/PredictiveModel/ECMoL/CCLE/RF")
system("mkdir ~/PredictiveModel/ECMoL/CCLE/ENet")
system("mkdir ~/PredictiveModel/ECMoL/CCLE/Ridge")
system("mkdir ~/PredictiveModel/ECMoL/CCLE/Lasso")

library(multicore)
library(doMC)
registerDoMC()

mclapply(1:24, function(x) workFlow_all(x))


workFlow_all<-function(kk){
  source("~/PredictiveModel/myModel.R")
  source("~/PredictiveModel/myData_CCLE.R")
  require(pls)  
  require(kernlab)
  require(synapseClient)
#   Data.type = c("Mh","C","CMo","CMh","E","EMo","EMh","EC","ECMo","ECMh","MhL","CL","CMoL","CMhL","EL","EMoL","EMhL","ECL","ECMoL","ECMhL")  
  Data.type = c("Mh","MhL","ECMh","ECMhL")  
  Model.type = c("PCR","PLS","Ridge","Lasso","RF","SVM","ENet")
  for(k1 in Data.type){
    for(k2 in Model.type){
      filename = paste("~/PredictiveModel/",k1,"/CCLE/",k2,"/cvDrug_",kk,".Rdata",sep="")
      if(!file.exists(filename)){
        resultsScale <- myModel(kk,data.type=k1, drug.type = "ActArea", model.type = k2, nfolds = 5)    
        save(resultsScale,file = filename)        
      }
    }
  }  
}




